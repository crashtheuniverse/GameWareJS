var GW={version:"0.0.1"};GW.AnimationController=function(a,b,c,d){this.targetObj=a;this.targetProp=b;this.nv=c;this.cv=a[b];this.t=d;this.ct=0;this.slope=(this.nv-this.cv)/d;this.complete=!1};GW.AnimationController.prototype={constructor:GW.AnimationController,update:function(a){this.complete||(this.cv+=this.slope*a,this.ct+=a,this.ct>=this.t&&(this.cv=this.nv,this.ct=this.time,this.complete=!0),this.targetObj[this.targetProp]=this.cv)}};GW.AnimationManager=function(){this.controllersHead=null};GW.AnimationManager.prototype={constructor:GW.AnimationManager,addController:function(a){this.controllersHead?(a.prev=null,a.next=this.controllersHead,this.controllersHead.prev=a):(a.prev=null,a.next=null);this.controllersHead=a},update:function(a){for(var b=this.controllersHead;b;)b.update(a),b=b.next}};GW.Entity=function(a){this.sprite=a;this.properties={}};GW.Entity.prototype={constructor:GW.Entity,update:function(a){this.sprite&&this.sprite.update(a)}};GW.EntityManager=function(){this.entities=[];this.properties={}};GW.EntityManager.prototype={constructor:GW.EntityManager,update:function(a){for(var b=0;b<this.entities.length;++b)this.entities[b].update(a)},createEntity:function(){return new GW.Entity}};GW.Sprite=function(a){this.y=this.x=0;this.texture=a;this.visible=!0};GW.Sprite.prototype={constructor:GW.Sprite,update:function(a){this.texture.update(a)},draw:function(a){this.visible&&this.texture.draw(a,this.x,this.y)},pointIn:function(a,b){var c=Math.abs(a-this.x),d=Math.abs(b-this.y);return c<=0.5*this.texture.image.width&&d<=0.5*this.texture.image.height?!0:!1}};GW.Texture=function(a){var b=this;this.image=a;this.ready=!1;a.onload=function(){b.ready=!0;b.time=0;b.currentFrame=0;b.maxFrame=b.image.width/b.image.height;b.overflow=!1;b.size=b.image.height}};
GW.Texture.prototype={constructor:GW.Texture,loaded:function(){this.ready=!0},update:function(){this.ready&&(this.currentFrame+=1,this.overflow=!1,this.currentFrame>=this.maxFrame&&(this.currentFrame=0,this.overflow=!0))},draw:function(a,b,c){this.ready&&a.drawImage(this.image,this.image.height*this.currentFrame,0,this.image.height,this.image.height,b-0.5*this.image.height,c-0.5*this.image.height,this.image.height,this.image.height)}};
